<!DOCTYPE html><html>
        <head>
        <title>WCMJ2021</title>
        <meta charset="utf-8">
<meta property="head" content="H3">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700,900" rel="stylesheet">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/icomoon/style.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/magnific-popup.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/jquery-ui.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.carousel.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.theme.default.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap-datepicker.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/flaticon/font/flaticon.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/aos.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/style.css">
        <link rel="shortcut icon" href="./../cmsimde/static/favicons.png">
        
        <style type='text/css'>
            .site-section {
            background-color: #FFFF;
            padding: 40px 40px;
            }
            body > div > div.dropdown.open {
                display: block;
            }
        </style>
    
        <!-- <script src="./../cmsimde/static/jquery.js"></script> -->
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
        <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/normalize.min.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch_set.js"></script>
        <script src="tipuesearch_content.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/tipuesearch.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch.js"></script>
        <script>
            /* original tipuesearch
            $(document).ready(function() {
                 $('#tipue_search_input').tipuesearch();
            });
            */
            // customed doSearch
            function doSearch() {
                $('#tipue_search_input').tipuesearch({
                    newWindow: true, 
                    minimumLength: 2,
                    wholeWords: false, // for search 中文
                });
            }
            $(document).ready(doSearch);
        </script>
        
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushBash.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDiff.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushHaxe.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCSharp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDart.js"></script>
<link type="text/css" rel="stylesheet" href="./../cmsimde/static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<!-- 暫時不用
<script src="./../cmsimde/static/fengari-web.js"></script>
<script type="text/javascript" src="./../cmsimde/static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->
<style>
img.add_border {
    border: 3px solid blue;
}
</style>

</head>
<body>
<div class='container'><nav>
        
    <div class="site-wrap">

    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    
            <header class="site-navbar py-4 bg-white" role="banner">
              <div class="container-fluid">
                <div class="row align-items-center">
                <h1>WCMJ2021 五專網際內容管理</h1>
                <div class="pl-4">
                    <form>
                    <input type="text" placeholder="Search" name="q" id="tipue_search_input" pattern=".{2,}" title="At least 2 characters" required>
                    </form>
                </div>
                  <!-- <div class="col-11 col-xl-2">
                    <h1 class="mb-0 site-logo"><a href="index.html" class="text-black h2 mb-0">WCMJ2021 五專網際內容管理</a></h1> 
                  </div>
                  -->
                  <div class="col-12 col-md-10 d-none d-xl-block">
                    <nav class="site-navigation position-relative text-right" role="navigation">
    <ul class='site-menu js-clone-nav mr-auto d-none d-lg-block'>
                        <li class="active has-children"><a href="index.html">Home</a>
                        <ul class="dropdown">
                            <li><a href="sitemap.html">Site Map</a></li>
                            <li><a href="./../reveal/index.html">reveal</a></li>
                            <li><a href="./../blog/index.html">blog</a></li>
                        </ul>
                      </li>
                     <li class='has-children'><a href='About.html'>About</a><ul class='dropdown'><li><a href='WCM.html'>WCM</a><li><a href='三道牆理論.html'>三道牆理論</a><li><a href='個人電腦.html'>個人電腦</a><li class='has-children'><a href='Network.html'>Network</a><ul class='dropdown'><li><a href='Switch.html'>Switch</a></li></li></ul></ul><li class='has-children'><a href='Topics.html'>Topics</a><ul class='dropdown'><li class='has-children'><a href='Topic 1.html'>Topic 1</a><ul class='dropdown'><li><a href='主機板.html'>主機板</a></li></ul><li><a href='W2-W3.html'>W2-W3</a><li class='has-children'><a href='W4.html'>W4</a><ul class='dropdown'><li><a href='Python.html'>Python</a></li></ul><li><a href='W5.html'>W5</a><li class='has-children'><a href='W7.html'>W7</a><ul class='dropdown'><li><a href='Call for Code.html'>Call for Code</a></li></ul><li class='has-children'><a href='W8.html'>W8</a><ul class='dropdown'><li><a href='Hybrid System.html'>Hybrid System</a></li></ul><li><a href='W9.html'>W9</a><li class='has-children'><a href='W10.html'>W10</a><ul class='dropdown'><li><a href='Topic2.html'>Topic2</a></li></ul><li><a href='W12.html'>W12</a><li><a href='W13.html'>W13</a></li></ul><li class='has-children'><a href='分組專題.html'>分組專題</a><ul class='dropdown'><li><a href='實體 Win10 安裝.html'>實體 Win10 安裝</a><li><a href='實體 Ubuntu Server 安裝.html'>實體 Ubuntu Server 安裝</a><li><a href='Virtualbox 安裝操作系統.html'>Virtualbox 安裝操作系統</a><li><a href='RoboDK.html'>RoboDK</a></li></ul><li><a href='IYEP.html'>IYEP</a><li><a href='Mac.html'>Mac</a><li class='has-children'><a href='Web Site.html'>Web Site</a><ul class='dropdown'><li class='has-children'><a href='Google.html'>Google</a><ul class='dropdown'><li><a href='Oauth2.html'>Oauth2</a><li><a href='Calendar API.html'>Calendar API</a><li><a href='Drive API.html'>Drive API</a></li>
                      </ul>
                </nav>
              </div>
              <div class="d-inline-block d-xl-none ml-md-0 mr-auto py-3" style="position: relative; top: 3px;"><a href="#" class="site-menu-toggle js-menu-toggle text-black"><span class="icon-menu h3"></span></a></div>
              </div>

            </div>
          </div>
          
        </header>
    <div id="tipue_search_content">Network << <a href='Network.html'>Previous</a> <a href='Topics.html'>Next</a> >> Topics<br /><h1>Switch</h1>
<p>Not all switches are created equal.</p>
<p><a href="https://community.cisco.com/t5/switching/switch-backplane-forwarding-rate-throughput-bandwidth/td-p/1432400">來源</a></p>
<p><a href="https://www.cisco.com/c/en/us/products/switches/index.html#~products">https://www.cisco.com/c/en/us/products/switches/index.html#~products</a></p>
<p><a href="https://www.cisco.com/c/dam/en/us/products/collateral/switches/catalyst-9300-series-switches/nb-06-upgrading-cat-9300-fc-cte-en.pdf">https://www.cisco.com/c/dam/en/us/products/collateral/switches/catalyst-9300-series-switches/nb-06-upgrading-cat-9300-fc-cte-en.pdf</a></p>
<p>internally to a switch a specialized hardware is needed to move frames between ports.<br/><br/>This specific part can be called backplane (背板) or in some cases we talk of switching fabric (交換結構).<br/><br/>When the forwarding capabilities of a backplane or switching fabric are greater then the sum of speeds of all ports (counted twice one for tx and one rx direction) we call the switching fabric non blocking: traffic between a pair of ports is not influenced by what traffic is exchanged on all other ports.<br/><br/>The forwarding rate is expressed in packet per seconds and expresses how many packets per second are needed to reach a certain traffic volume (throughpout)<br/><br/>Clearly forwarding rate depends on frame size.<br/><br/>Ideally a backplane switching fabric should be non blocking for every frame size including the smallest ones (64 bytes in ethernet standard) but in reality most devices can be non blocking for an average size of 400 bytes.<br/><br/>bandwidth: the speed of traffic.<br/><br/>to convert between forwarding rate and used bandwidth we need to take in account some specific aspects of ethernet:<br/><br/>each frame has an 8 byte preamble that is used to allow to potential receiver to synchronize with the signal<br/><br/>between two frames a minimum silence interval must exist to allow receiver to discriminate between two frames<br/><br/>preamble and inter frame gap counts for 20,2 bytes.<br/><br/>So given an iP packet of size N the ethernet frame has size N+18  (header 14 bytes, FCS 4 byte) but counts as (N+18+20,2)*8 on wire<br/><br/>8 is number of bits in a byte<br/><br/>with this kind of calculation using frames of minimum size 64 bytes you need 1488000 frames per second and per direction to fill a GE port.<br/><br/>Be also aware that all figures you see sum tx and rx directions so if a switch has 100 M pps capability this accounts for a certain number of GE ports at 1 Gbps full duplex.<br/><br/></p>
<p>Do not confuse the speed of the stackwise ring with the internal switching fabric of each stack member, they are different: the internal switching fabric should be used for traffic between ports on the same stack member device, the stackwise bandwidth should be used when traffic must flow between ports located on different stack members.<br/><br/>Note: this is just my assumption about the implementation of stack, it may be different with the dual ring involved also for traffic between two ports on the same member switch. (total lack of so called local switching capabilities).<br/><br/>The stack implements a dual ring topology between the member switches that act as an extension of the individual switching fabrics.<br/><br/>The speed of the ring for a stack of only 3750-X (stackwise plus) should be 32 Gbps full duplex that allows for a very good interconnection between member switches, but I agree it is not enough to classify the composite switching fabric as not blocking.<br/><br/>On the other hand, only models with 10GE ports can be interconnected at comparable speeds.<br/><br/>To make a comparison a C6500 equipped with Sup720 generation route processor provides up to 40 Gbps per slot to/from the switching fabric and some linecards are faster then that ( think of  WS-6708 or WS-6716 with 8 and 16 tengiga ports respectively).<br/><br/>About the forwarding capacity in pps:<br/><br/>for a 24 ports device is listed as 65.5 Mbps that accounts for 22 GE ports 1Gbps full duplex with 64 byte frames.</p>
<p>An original series 3750 (or 3560) fabric is 32 Gbps.  This is different from the stack ring's "32 Gbps" (which is really dual 8 Gbps, duplex).<br/><br/>An original series 3750 (or 3560) internal fabric, in theory, is oversubscribed by more than 16 gig ports (i.e. the "G" suffixed original models).<br/><br/>The terms non-blocking and blocking, when examining switch fabric isn't just sufficient bandwidth capacity to forward all port bandwidths, it's whether the fabric's architecture will block, or not, forwarding of frames even if there's "sufficient" bandwidth.<br/><br/>For example, you have three ingress ports.  Two are sending to one egress port (2:1) and the other is sending to other egress port (1:1).  If 2:1 congestion on the one egress port delays (or blocks) transmission on the 1:1 egress port, you have HOL (head-of-line) blocking even though the internal fabric's bandwidth could support each ingress port sending to a separate egress port (all 1:1).<br/><br/>StackWise (and StackWise+), when available, use both ring ports.<br/><br/>Original StackWise copies ALL member switch traffic to the stack ring.  Original StackWise source stack member also removes the traffic it placed on the stack ring.<br/><br/>StackWise Plus only places unicast traffic on the stack ring when destination is not a local switch port.  Additionally, destination switch member removes unicast packets.  (I.e. StackWise+ uses it's ring much more intelligently.  It also has dual 16 Gbps stack ring ports.  NB:StackWise+, for the most part, reverts to StackWise operation if there's a StackWise only member switch in the stack [good reason not to use such mixed stacks].)<br/><br/>Bits per second, is the transmission rate supported by the media.  So, for example, 100 Mbps allows transmission of 100,000,000 bits per seconds.  However, transferring actual data, in something like physical segments (e.g. frames) uses some of this capacity for both framing overhead and framing delineation, so useful capacity is less than the often quoted bps rate.  Useful capacity percentage (of overall rate) also generally decreases as frame size decreases.  (BTW, similar issue with disk media.  At least disk capacity isn't, generally, quoted for its unformatted capacity any longer.)<br/><br/>The 25 Mbps throughput is rated for minimum sized packets.  Larger packets often allow much higher throughput as the packets per second requirement (for same bandwidth) decreases.  (Sometimes the vendor will document PPS rates for multiple packet sizes.  Without such documentation, or your own testing, just knowing documented performance for one packet size you cannot accurately predict a device's performance for other packet sizes.)</p>
<p><a href="https://topic.alibabacloud.com/a/how-is-the-backplane-bandwidth-switching-capacity-and-packet-forwarding-rate-of-the-switch-calculated-why-each-manufacturers_8_8_31249771.html">來源</a></p>
<p>Switch backplane bandwidth, switching capacity, packet forwarding rate difference Backplane bandwidth refers to the entire switching capacity of the backplane, switching capacity refers to the switching capacity of the CPU, and packet forwarding refers to the capacity of the three-layer forwarding.<br/><br/>First, the backplane bandwidth<br/><br/>1. Switch backplane bandwidth meaning</p>
<p>The backplane bandwidth of the switch, also called the backplane capacity, is the maximum amount of data that can be handled between the switch interface processor or the interface card and the data bus. The backplane bandwidth marks the total data exchange capacity of the switch, in Gbps. The backplane bandwidth of a typical switch ranges from a few Gbps to hundreds of Gbps. The higher the backplane bandwidth of a switch, the better the ability to process data, but at the same time the design cost will be higher.<br/><br/>2. The internal structure of the switch</p>
<p>The utilization of backplane bandwidth resources is closely related to the internal structure of the switch. At present, the internal structure of the switch mainly has the following types:</p>
<p>First, a shared memory structure, which relies on a central switching engine to provide a high-performance connection for a full port, and the core engine checks each input packet to determine a route. This method requires a large memory bandwidth and high management cost. Especially with the increase of the switch port, the price of the central memory will be very high, so the switch core becomes the bottleneck of performance realization;</p>
<p>the second is the cross bus structure, which can Establish a direct point-to-point connection between ports, which is good for single-point transmission, but not suitable for multi-point transmission;</p>
<p>the third is a hybrid cross-bus structure, which is a hybrid cross-bus implementation. Its design idea is to integrate The cross bus matrix is divided into small cross matrices connected by a high performance bus. The advantage is that the number of cross-buses is reduced, the cost is reduced, and bus contention is reduced; however, the bus connecting the cross-matrix becomes a new performance bottleneck.<br/><br/>3. Linear non-blocking transmission</p>
<p>The best performance we can buy for the transfer machine is to require linear non-blocking transmission. How do we investigate whether the backplane bandwidth of a switch is sufficient? How to determine whether the design of the switch you bought is reasonable, and there is a blocking structure design?</p>
<p>Calculation formula:</p>
<p>A. The sum of the number of all port capacity X ports should be less than the backplane bandwidth, which can realize full-duplex non-blocking switching, which proves that the switch has the conditions of maximizing data exchange performance.</p>
<p>B. Full configuration throughput (Mbps) = full configuration GE port number × 1.488 Mpps, wherein the theoretical throughput of a Gigabit port with a packet length of 64 bytes is 1.488 Mpps. For example, a switch with up to 64 Gigabit ports should have a full configuration throughput of 64 x 1.488 Mpps = 95.2 Mpps to ensure non-blocking packet switching when all port line speeds are working. Example: If a switch can provide up to 176 Gigabit ports and the declared throughput is less than 261.8 Mpps (176 x 1.488 Mpps = 261.8), then the user has reason to believe that the switch is designed with a blocking structure.</p>
<p>For 10 Gigabit Ethernet, the packet forwarding rate of a wire-speed port is 14.88 Mpps.</p>
<p>For Gigabit Ethernet, the packet forwarding rate of a wire-speed port is 1.488 Mpps.</p>
<p>For Fast Ethernet, the packet forwarding rate of a wire-speed port is 0.1488 Mpps.</p>
<p>For OC-12 POS ports, the packet forwarding rate of a line rate port is 1.17 Mpps.</p>
<p>For the POS port of OC-48, the packet forwarding rate of one line-speed port is 468MppS.</p>
<p>Therefore, if we can meet the above three conditions, then we say that this switch is truly linear and non-blocking; the back-up rate of the switch is generally:</p>
<p>Mbps, which refers to the second layer, which is used for the exchange of more than three layers.</p>
<p>Mpps<br/><br/>4. The backplane bandwidth does not exist in the switch with the fixed port.</p>
<p>This concept is only possible with modular switches (with scalable slots that can flexibly change the number of ports). Fixed-port switches do not have this concept, and the backplane capacity and switching capacity of fixed-port switches are equal. The backplane bandwidth determines the maximum bandwidth for the connection between each board (including boards that are not yet installed in the expandable slot) and the switching engine. Due to the different architectures of modular switches, backplane bandwidth is not fully effective at representing the true performance of the switch. Fixed port switches do not have the concept of backplane bandwidth.<br/><br/>Second, the exchange capacity</p>
<p>It is the transmission capacity of the core CPU and bus, generally smaller than the backplane bandwidth. H3C low-end LSW switching uses the store-and-forward mode. The size of the switching capacity is determined by the bit width of the buffer (BUFFER) and its bus frequency. That is, the switching capacity = cache bit width * cache bus frequency = 96 * 133 = 12.8 Gbps H3C high-end switch exchange capacity can be equal to twice the total port capacity, total port capacity = 2 * (n * 100Mbps + m * 1000Mbps) ( n: indicates that the switch has n 100M ports, m: indicates that the switch has m 1000M ports.</p>
<p>3. The packet forwarding rate forwarding capability is measured by the minimum packet length. For the Ethernet minimum packet is 64BYTE, plus the frame overhead 20BYTE. Therefore, the minimum package is 84BYTE. For a full-duplex 1000Mbps interface to achieve line speed requirements: forwarding capacity = 1000Mbps / ((64 + 20) * 8bit) = 1.488Mpps for a full-duplex 100Mbps interface to achieve line speed requirements: forwarding capacity = 100Mbps / ((64+20)*8bit)=0.149Mpps Unit: Mpps (Million packets per second)<br/><br/>This article is from the "Snow Moon Studio" blog, please be sure to keep this source <a href="http://xueyue8.blog.51cto.com/4650249/1765750">http://xueyue8.blog.51cto.com/4650249/1765750</a> <br/><br/>How is the backplane bandwidth, switching capacity, and packet forwarding rate of the switch calculated? For the manufacturers, the standard is higher than the line speed forwarding.</p>
<br />Network << <a href='Network.html'>Previous</a> <a href='Topics.html'>Next</a> >> Topics</div>
        
    <!-- footer -->
      <div class="container">
        <div class="row pt-3 mx-auto">
            <p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >Colorlib</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
        </div>
      </div>
    <!-- for footer -->
    
        </div> <!-- for site wrap -->
            <!-- <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script> -->
            <script src="../cmsimde/static/chimper/js/jquery-migrate-3.0.1.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery-ui.js"></script>
            <script src="../cmsimde/static/chimper/js/popper.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap.min.js"></script>
            <script src="../cmsimde/static/chimper/js/owl.carousel.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.stellar.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.countdown.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.magnific-popup.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap-datepicker.min.js"></script>
            <script src="../cmsimde/static/chimper/js/aos.js"></script>
            <!--
            <script src="../cmsimde/static/chimper/js/typed.js"></script>
                    <script>
                    var typed = new Typed('.typed-words', {
                    strings: ["Web Apps"," WordPress"," Mobile Apps"],
                    typeSpeed: 80,
                    backSpeed: 80,
                    backDelay: 4000,
                    startDelay: 1000,
                    loop: true,
                    showCursor: true
                    });
                    </script>
            -->
            <script src="../cmsimde/static/chimper/js/main.js"></script>
        
<!-- 啟用 LaTeX equations 編輯 -->
  <!-- <script>
  MathJax = {
    tex: {inlineMath: [['$', '$'], ['\(', '\)']]}
  };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>-->
    </body></html>
        